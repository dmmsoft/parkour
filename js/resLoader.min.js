!function(t,o){"function"==typeof define&&define.amd?define(o):"object"==typeof exports?module.exports=o():t.resLoader=o(t)}(this,function(){function t(t){if(this.option={resourceType:"image",baseUrl:"./",resources:[],onStart:null,onProgress:null,onComplete:null},!t)return void alert("参数错误！");for(i in t)this.option[i]=t[i];this.status=0,this.total=this.option.resources.length||0,this.currentIndex=0}var o=function(t){return"function"==typeof t};return t.prototype.start=function(){this.status=1;for(var t=this,n=this.option.baseUrl,e=0,i=this.option.resources.length;e<i;e++){var r=this.option.resources[e],s="";s=0===r.indexOf("http://")||0===r.indexOf("https://")?r:n+r;var h=new Image;h.onload=function(){t.loaded()},h.onerror=function(){t.loaded()},h.src=s}o(this.option.onStart)&&this.option.onStart(this.total)},t.prototype.loaded=function(){o(this.option.onProgress)&&this.option.onProgress(++this.currentIndex,this.total),this.currentIndex===this.total&&o(this.option.onComplete)&&this.option.onComplete(this.total)},t});